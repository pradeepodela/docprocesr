{% extends "base.html" %}
{% block title %}KYC — DocSer{% endblock %}
{% block content %}
  <div class="space-y-4">
    <div class="card p-4">
      <div class="flex items-center justify-between">
        <div>
          <div class="font-semibold">KYC Verification</div>
          <div class="muted">ID document parsing, MRZ reading, and basic validation checks.</div>
        </div>
        <span class="badge">Planned</span>
      </div>

      <div class="mt-4 grid sm:grid-cols-2 gap-3">
        <div class="p-3 border border-[var(--border)] rounded-md">
          <div class="text-sm font-medium mb-1">Planned features</div>
          <ul class="list-disc pl-5 muted text-sm space-y-1">
            <li>OCR for ID cards, passports, driving licenses</li>
            <li>MRZ extraction (passport/visa)</li>
            <li>Face-crop, doc type detection</li>
            <li>Validation rules (expiry, mismatch)</li>
            <li>Export JSON + CSV</li>
          </ul>
        </div>
        <div class="p-3 border border-[var(--border)] rounded-md">
          <div class="text-sm font-medium mb-1">Status</div>
          <div class="muted text-sm">Backlog. Provide sample documents and compliance requirements to prioritize.</div>
          <div class="mt-3">
            <a href="{{ url_for('index') }}" class="btn btn-outline">Back to Dashboard</a>
            <a href="{{ url_for('invoices_page') }}" class="btn btn-primary ml-2">Use Invoices Service</a>
          </div>
        </div>
      </div>
    </div>

    <div class="card p-4">
      <div class="text-sm font-medium">Early Access Sign-up</div>
      <div class="muted text-sm">Enter your email to get notified when KYC goes live.</div>
      <form class="mt-3 grid sm:grid-cols-3 gap-2" onsubmit="event.preventDefault(); notifyKycEarlyAccess();">
        <input id="kycEarlyEmail" class="input sm:col-span-2" placeholder="you@company.com" type="email" required />
        <button class="btn btn-primary" type="submit">Notify Me</button>
      </form>
      <div id="kycNotifyMsg" class="muted text-sm mt-2" hidden>Thanks! You’ll be notified.</div>
    </div>
  </div>
{% endblock %}
{% block body_scripts %}
<script>
function notifyKycEarlyAccess() {
  const email = document.getElementById('kycEarlyEmail').value.trim();
  if (!email) return;
  try {
    localStorage.setItem('kyc_notify_email', email);
    const msg = document.getElementById('kycNotifyMsg');
    msg.hidden = false;
    setTimeout(() => { msg.hidden = true; }, 4000);
  } catch {}
}
</script>
{% endblock %}
